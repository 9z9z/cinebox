<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ¬ Ù…ÙˆØ¯Ø±Ù† ÙØ§ØµÙ„ Ø£ÙÙ„Ø§Ù… ÙˆÙ…Ø³Ù„Ø³Ù„Ø§Øª ÙˆØ£Ù†Ù…ÙŠ</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Tajawal&display=swap');
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Tajawal', sans-serif;
    background: #121212;
    color: #eee;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    background: #1f1f1f;
    padding: 18px 0;
    text-align: center;
    border-bottom: 3px solid #e50914;
    position: relative;
    overflow: hidden;
  }
  /* Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ */
  header h1 {
    font-size: 28px;
    color: #e50914;
    user-select: none;
    white-space: nowrap;
    animation: slideText 12s linear infinite;
  }
  @keyframes slideText {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }
  nav {
    background: #181818;
    display: flex;
    justify-content: center;
    gap: 15px;
    padding: 12px 0;
    flex-wrap: wrap;
  }
  nav button {
    background: transparent;
    border: 2px solid #e50914;
    color: #eee;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    padding: 10px 22px;
    border-radius: 8px;
    transition: all 0.3s ease;
  }
  nav button:hover,
  nav button.active {
    background-color: #e50914;
    color: #fff;
  }
  main.container {
    max-width: 1100px;
    margin: 25px auto 60px;
    padding: 0 15px;
    flex-grow: 1;
  }
  .article-list {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
    gap: 20px;
  }
  .article-card {
    background: #222;
    border-radius: 14px;
    box-shadow: 0 0 10px #000;
    cursor: pointer;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  .article-card:hover {
    transform: scale(1.06);
    box-shadow: 0 0 25px #e50914;
  }
  .article-thumb {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-bottom: 3px solid #e50914;
  }
  .article-info {
    padding: 15px 12px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }
  .article-info h3 {
    margin: 0 0 8px;
    color: #e50914;
    font-size: 21px;
    user-select: none;
  }
  .article-info p {
    font-size: 14px;
    color: #ccc;
    line-height: 1.4;
    flex-grow: 1;
    overflow: hidden;
  }
  .category-label {
    margin-top: 12px;
    font-weight: bold;
    font-size: 14px;
    color: #e50914;
    user-select: none;
    text-transform: uppercase;
  }
  /* ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© */
  .details-view {
    max-width: 900px;
    margin: 0 auto 50px auto;
    background: #222;
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 0 30px #e50914;
  }
  .details-view h2 {
    color: #e50914;
    margin-top: 0;
    user-select: none;
    font-size: 28px;
  }
  .details-view p {
    font-size: 16px;
    color: #ddd;
    line-height: 1.5;
  }
  .server-list {
    margin-top: 25px;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
  }
  .server-list button {
    background: #e50914;
    border: none;
    color: #fff;
    padding: 12px 22px;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select: none;
  }
  .server-list button:hover,
  .server-list button.active {
    background-color: #b0070e;
  }
  .video-player {
    margin-top: 30px;
    width: 100%;
    aspect-ratio: 16 / 9;
    background: #000;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 0 25px #e50914;
    position: relative;
  }
  .video-player video,
  .video-player iframe {
    width: 100%;
    height: 100%;
    border: none;
    outline: none;
    background: #000;
  }
  .back-btn {
    display: inline-block;
    margin-bottom: 20px;
    color: #e50914;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
    transition: color 0.3s ease;
  }
  .back-btn:hover {
    color: #b0070e;
  }
  /* Ù†Ù…ÙˆØ°Ø¬ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
  .admin-panel {
    max-width: 700px;
    margin: 20px auto 60px auto;
    background: #222;
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 0 30px #e50914;
  }
  .admin-panel h2 {
    color: #e50914;
    margin: 0 0 20px 0;
    user-select: none;
    font-size: 26px;
    text-align: center;
  }
  .admin-panel label {
    display: block;
    margin: 15px 0 6px 0;
    font-weight: 700;
    user-select: none;
  }
  .admin-panel input[type="text"],
  .admin-panel textarea,
  .admin-panel select {
    width: 100%;
    padding: 10px 14px;
    border-radius: 12px;
    border: none;
    background: #1b1b1b;
    color: #eee;
    font-size: 16px;
    resize: vertical;
    outline: none;
  }
  .admin-panel textarea {
    min-height: 100px;
  }
  .admin-panel button {
    margin-top: 25px;
    width: 100%;
    padding: 14px 0;
    background: #e50914;
    border: none;
    border-radius: 14px;
    color: #fff;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .admin-panel button:hover {
    background: #b0070e;
  }
  .admin-message {
    margin-top: 18px;
    text-align: center;
    font-weight: 700;
    color: #e50914;
    user-select: none;
  }
  /* ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø§Ù„Ùƒ */
  .login-screen {
    max-width: 350px;
    margin: 100px auto 0 auto;
    background: #222;
    border-radius: 16px;
    padding: 30px 25px;
    box-shadow: 0 0 25px #e50914;
  }
  .login-screen h2 {
    color: #e50914;
    margin-bottom: 25px;
    text-align: center;
    user-select: none;
    font-size: 24px;
  }
  .login-screen input[type="password"] {
    width: 100%;
    padding: 14px 16px;
    border-radius: 14px;
    border: none;
    background: #1b1b1b;
    color: #eee;
    font-size: 16px;
    outline: none;
  }
  .login-screen button {
    margin-top: 20px;
    width: 100%;
    padding: 14px 0;
    background: #e50914;
    border: none;
    border-radius: 14px;
    color: #fff;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .login-screen button:hover {
    background: #b0070e;
  }
  .login-error {
    margin-top: 12px;
    text-align: center;
    color: #ff5252;
    font-weight: 700;
    user-select: none;
  }
  /* Responsive */
  @media (max-width: 720px) {
    .article-list {
      grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
    }
  }
</style>
</head>
<body>

<header>
  <h1>ğŸ¬ Ù…ÙˆØ¯Ø±Ù† ÙØ§ØµÙ„ | Ø£ÙÙ„Ø§Ù… | Ù…Ø³Ù„Ø³Ù„Ø§Øª | Ø£Ù†Ù…ÙŠ</h1>
</header>

<nav id="navBar" style="display:none;">
  <button id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button id="btn-admin">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
  <button id="btn-logout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</nav>

<main class="container" id="mainContent"></main>

<!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ -->
<div class="login-screen" id="loginScreen">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ</h2>
  <input type="password" id="ownerPass" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="off" />
  <button id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
  <div class="login-error" id="loginError"></div>
</div>

<script>
(() => {
  const OWNER_PASSWORD = "modrn123"; // Ø¹Ø¯Ù„Ù‡Ø§ Ø¹Ù„Ù‰ Ø±Ø§Ø­ØªÙƒ
  const navBar = document.getElementById("navBar");
  const mainContent = document.getElementById("mainContent");
  const loginScreen = document.getElementById("loginScreen");
  const loginBtn = document.getElementById("loginBtn");
  const ownerPassInput = document.getElementById("ownerPass");
  const loginError = document.getElementById("loginError");

  const btnHome = document.getElementById("btn-home");
  const btnAdmin = document.getElementById("btn-admin");
  const btnLogout = document.getElementById("btn-logout");

  // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ (localStorage)
  function loadArticles() {
    const raw = localStorage.getItem("modrn_articles");
    return raw ? JSON.parse(raw) : [];
  }
  function saveArticles(articles) {
    localStorage.setItem("modrn_articles", JSON.stringify(articles));
  }

  // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª (Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… / Ø§Ù„Ù…Ø³Ù„Ø³Ù„)
  function renderArticlesList() {
    const articles = loadArticles();
    if (articles.length === 0) {
      mainContent.innerHTML = `<p style="text-align:center; font-size:18px; color:#aaa; user-select:none;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø¶Ø§ÙØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>`;
      return;
    }
    let html = `<div class="article-list">`;
    for (const art of articles) {
      html += `
        <div class="article-card" data-id="${art.id}">
          <img class="article-thumb" src="${art.thumb || 'https://via.placeholder.com/300x160?text=Ù„Ø§+ØµÙˆØ±Ø©'}" alt="${art.title}" />
          <div class="article-info">
            <h3>${art.title}</h3>
            <p>${art.description ? art.description.slice(0, 70) + (art.description.length > 70 ? "..." : "") : 'Ø¨Ø¯ÙˆÙ† ÙˆØµÙ'}</p>
            <span class="category-label">${art.category || 'Ø¹Ø§Ù…'}</span>
          </div>
        </div>`;
    }
    html += `</div>`;
    mainContent.innerHTML = html;

    // Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
    document.querySelectorAll(".article-card").forEach(card => {
      card.addEventListener("click", () => {
        const id = card.getAttribute("data-id");
        renderArticleDetails(id);
      });
    });
  }

  // ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙÙŠÙ„Ù… Ù…Ø¹ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„
  function renderArticleDetails(id) {
    const articles = loadArticles();
    const art = articles.find(a => a.id === id);
    if (!art) {
      mainContent.innerHTML = `<p style="text-align:center; font-size:18px; color:#aaa;">Ø§Ù„Ù…Ù‚Ø§Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.</p>`;
      return;
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
    let serversHtml = "";
    if (art.servers && art.servers.length) {
      for (let i = 0; i < art.servers.length; i++) {
        serversHtml += `<button data-index="${i}" ${i === 0 ? 'class="active"' : ''}>${art.servers[i].name}</button>`;
      }
    } else {
      serversHtml = `<p style="color:#777; user-select:none;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³ÙŠØ±ÙØ±Ø§Øª Ù…Ø´Ø§Ù‡Ø¯Ø© Ù…Ø¶Ø§ÙØ©.</p>`;
    }

    mainContent.innerHTML = `
      <div class="details-view">
        <span class="back-btn" id="backBtn">&larr; Ø±Ø¬ÙˆØ¹</span>
        <h2>${art.title}</h2>
        <p>${art.description || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙÙŠÙ„Ù…/Ø§Ù„Ù…Ø³Ù„Ø³Ù„."}</p>

        <div class="server-list">${serversHtml}</div>

        <div class="video-player" id="videoPlayer">
          ${art.servers && art.servers.length ? getPlayerHTML(art.servers[0]) : `<p style="color:#777; padding:20px; text-align:center;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆ Ù„Ù„Ø¹Ø±Ø¶.</p>`}
        </div>

        <h3 style="margin-top:30px; user-select:none;">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</h3>
        <ul id="downloadLinks" style="padding-inline-start: 20px; color:#ccc;">
          ${
            art.downloads && art.downloads.length
              ? art.downloads.map(dl => `<li><a href="${dl.url}" target="_blank" style="color:#e50914; user-select:none;">${dl.name}</a></li>`).join("")
              : '<li style="color:#777;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆØ§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ù…Ø¶Ø§ÙØ©.</li>'
          }
        </ul>
      </div>`;

    // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹
    document.getElementById("backBtn").addEventListener("click", () => {
      renderArticlesList();
    });

    // ØªÙØ¹ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
    const serverButtons = document.querySelectorAll(".server-list button");
    const videoPlayer = document.getElementById("videoPlayer");
    serverButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        serverButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const idx = +btn.getAttribute("data-index");
        videoPlayer.innerHTML = getPlayerHTML(art.servers[idx]);
      });
    });
  }

  // Ù…ÙˆÙ„Ø¯ iframe Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ±ÙØ±
  function getPlayerHTML(server) {
    if (!server || !server.url) return `<p style="color:#777; padding:20px; text-align:center;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆ Ù„Ù„Ø¹Ø±Ø¶.</p>`;
    if (server.type === "iframe") {
      return `<iframe src="${server.url}" allowfullscreen allow="autoplay; encrypted-media" loading="lazy"></iframe>`;
    } else if (server.type === "video") {
      return `<video controls preload="metadata" src="${server.url}" style="background:#000;" ></video>`;
    } else {
      return `<p style="color:#777; padding:20px; text-align:center;">Ù†ÙˆØ¹ Ø³ÙŠØ±ÙØ± ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ….</p>`;
    }
  }

  // Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ Ù„Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ù…Ù‚Ø§Ù„Ø§Øª
  function renderAdminPanel() {
    const articles = loadArticles();
    let html = `
      <div class="admin-panel">
        <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ - Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</h2>
        <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠÙ„Ù… / Ø§Ù„Ù…Ø³Ù„Ø³Ù„:</label>
        <input type="text" id="artTitle" placeholder="Ù…Ø«Ù„: ÙˆÙ† Ø¨ÙŠØ³" />

        <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØµØºØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
        <input type="text" id="artThumb" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©" />

        <label>Ø§Ù„ÙˆØµÙ:</label>
        <textarea id="artDesc" placeholder="ÙˆØµÙ Ù‚ØµÙŠØ± Ù„Ù„ÙÙŠÙ„Ù… Ø£Ùˆ Ø§Ù„Ù…Ø³Ù„Ø³Ù„"></textarea>

        <label>Ø§Ù„ØªØµÙ†ÙŠÙ:</label>
        <select id="artCategory">
          <option value="Ø£ÙÙ„Ø§Ù…">Ø£ÙÙ„Ø§Ù…</option>
          <option value="Ù…Ø³Ù„Ø³Ù„Ø§Øª">Ù…Ø³Ù„Ø³Ù„Ø§Øª</option>
          <option value="Ø£Ù†Ù…ÙŠ">Ø£Ù†Ù…ÙŠ</option>
          <option value="Ø¹Ø§Ù…">Ø¹Ø§Ù…</option>
        </select>

        <label>Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª (Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ± + Ù†ÙˆØ¹ + Ø±Ø§Ø¨Ø·):</label>
        <div id="serversContainer"></div>
        <button id="addServerBtn" style="margin-bottom:10px;">+ Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ±ÙØ±</button>

        <label>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Ø§Ø³Ù… + Ø±Ø§Ø¨Ø·):</label>
        <div id="downloadsContainer"></div>
        <button id="addDownloadBtn" style="margin-bottom:10px;">+ Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„</button>

        <button id="saveArticleBtn">Ø­ÙØ¸ Ø§Ù„Ù…Ù‚Ø§Ù„</button>

        <div class="admin-message" id="adminMsg"></div>

        <h3 style="margin-top:30px;">Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
        <div id="existingArticles"></div>
      </div>
    `;
    mainContent.innerHTML = html;

    // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
    const serversContainer = document.getElementById("serversContainer");
    const downloadsContainer = document.getElementById("downloadsContainer");
    const addServerBtn = document.getElementById("addServerBtn");
    const addDownloadBtn = document.getElementById("addDownloadBtn");
    const saveArticleBtn = document.getElementById("saveArticleBtn");
    const adminMsg = document.getElementById("adminMsg");
    const existingArticlesDiv = document.getElementById("existingArticles");

    let editingId = null;

    // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
    function createServerInput(name = "", type = "iframe", url = "") {
      const div = document.createElement("div");
      div.style = "margin-bottom: 10px; display: flex; gap: 8px; flex-wrap: wrap;";
      div.innerHTML = `
        <input type="text" class="server-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±" value="${name}" style="flex: 1 1 130px; border-radius: 12px; padding:8px;" />
        <select class="server-type" style="flex: 1 1 100px; border-radius: 12px; padding:8px;">
          <option value="iframe" ${type === "iframe" ? "selected" : ""}>Iframe</option>
          <option value="video" ${type === "video" ? "selected" : ""}>Video</option>
        </select>
        <input type="text" class="server-url" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ±ÙØ±" value="${url}" style="flex: 2 1 300px; border-radius: 12px; padding:8px;" />
        <button style="background:#b0070e; color:#fff; border:none; border-radius: 12px; padding: 6px 12px; cursor:pointer;">âœ–</button>
      `;
      const btn = div.querySelector("button");
      btn.onclick = () => div.remove();
      return div;
    }
    function createDownloadInput(name = "", url = "") {
      const div = document.createElement("div");
      div.style = "margin-bottom: 10px; display: flex; gap: 8px; flex-wrap: wrap;";
      div.innerHTML = `
        <input type="text" class="download-name" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØ­Ù…ÙŠÙ„" value="${name}" style="flex: 1 1 150px; border-radius: 12px; padding:8px;" />
        <input type="text" class="download-url" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„" value="${url}" style="flex: 2 1 350px; border-radius: 12px; padding:8px;" />
        <button style="background:#b0070e; color:#fff; border:none; border-radius: 12px; padding: 6px 12px; cursor:pointer;">âœ–</button>
      `;
      const btn = div.querySelector("button");
      btn.onclick = () => div.remove();
      return div;
    }

    addServerBtn.onclick = () => {
      serversContainer.appendChild(createServerInput());
    };
    addDownloadBtn.onclick = () => {
      downloadsContainer.appendChild(createDownloadInput());
    };

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø§Ù„Ùƒ Ù…Ø¹ Ø£Ø²Ø±Ø§Ø± ØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù
    function refreshExistingArticles() {
      if (articles.length === 0) {
        existingArticlesDiv.innerHTML = `<p style="text-align:center; color:#aaa;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø¶Ø§ÙØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>`;
        return;
      }
      let html = `<ul style="list-style:none; padding:0;">`;
      for (const art of articles) {
        html += `<li style="margin-bottom:12px; display:flex; justify-content:space-between; align-items:center; gap:15px;">
          <span>${art.title}</span>
          <span>
            <button data-id="${art.id}" class="edit-article" style="background:#e50914; color:#fff; border:none; border-radius:12px; padding:6px 12px; cursor:pointer;">ØªØ¹Ø¯ÙŠÙ„</button>
            <button data-id="${art.id}" class="delete-article" style="background:#b0070e; color:#fff; border:none; border-radius:12px; padding:6px 12px; cursor:pointer;">Ø­Ø°Ù</button>
          </span>
        </li>`;
      }
      html += `</ul>`;
      existingArticlesDiv.innerHTML = html;

      // ØªÙØ¹ÙŠÙ„ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      document.querySelectorAll(".edit-article").forEach(btn => {
        btn.onclick = () => {
          const id = btn.getAttribute("data-id");
          const art = articles.find(a => a.id === id);
          if (!art) return;
          editingId = id;
          // ØªØ¹Ø¨ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„
          document.getElementById("artTitle").value = art.title;
          document.getElementById("artThumb").value = art.thumb || "";
          document.getElementById("artDesc").value = art.description || "";
          document.getElementById("artCategory").value = art.category || "Ø¹Ø§Ù…";

          serversContainer.innerHTML = "";
          downloadsContainer.innerHTML = "";

          if (art.servers) {
            for (const s of art.servers) {
              serversContainer.appendChild(createServerInput(s.name, s.type, s.url));
            }
          }
          if (art.downloads) {
            for (const d of art.downloads) {
              downloadsContainer.appendChild(createDownloadInput(d.name, d.url));
            }
          }
          adminMsg.textContent = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ...";
        };
      });
      // ØªÙØ¹ÙŠÙ„ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù
      document.querySelectorAll(".delete-article").forEach(btn => {
        btn.onclick = () => {
          const id = btn.getAttribute("data-id");
          if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„ØŸ")) {
            const idx = articles.findIndex(a => a.id === id);
            if (idx !== -1) {
              articles.splice(idx, 1);
              saveArticles(articles);
              refreshExistingArticles();
              adminMsg.textContent = "ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„.";
              // Ù„Ùˆ ÙƒÙ†Øª ØªØ¹Ø¯Ù„ Ù†ÙØ³ Ø§Ù„Ù…Ù‚Ø§Ù„ØŒ Ø§Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
              if (editingId === id) {
                editingId = null;
                clearForm();
              }
            }
          }
        };
      });
    }

    function clearForm() {
      document.getElementById("artTitle").value = "";
      document.getElementById("artThumb").value = "";
      document.getElementById("artDesc").value = "";
      document.getElementById("artCategory").value = "Ø¹Ø§Ù…";
      serversContainer.innerHTML = "";
      downloadsContainer.innerHTML = "";
      adminMsg.textContent = "";
      editingId = null;
    }

    saveArticleBtn.onclick = () => {
      const title = document.getElementById("artTitle").value.trim();
      if (!title) {
        adminMsg.textContent = "ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠÙ„Ù… Ø£Ùˆ Ø§Ù„Ù…Ø³Ù„Ø³Ù„.";
        return;
      }
      const thumb = document.getElementById("artThumb").value.trim();
      const description = document.getElementById("artDesc").value.trim();
      const category = document.getElementById("artCategory").value;

      // Ø¬Ù…Ø¹ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
      const serversElems = serversContainer.querySelectorAll("div");
      let servers = [];
      for (const se of serversElems) {
        const name = se.querySelector(".server-name").value.trim();
        const type = se.querySelector(".server-type").value;
        const url = se.querySelector(".server-url").value.trim();
        if (name && url) {
          servers.push({ name, type, url });
        }
      }
      // Ø¬Ù…Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„
      const downloadElems = downloadsContainer.querySelectorAll("div");
      let downloads = [];
      for (const de of downloadElems) {
        const name = de.querySelector(".download-name").value.trim();
        const url = de.querySelector(".download-url").value.trim();
        if (name && url) {
          downloads.push({ name, url });
        }
      }

      const articles = loadArticles();
      if (editingId) {
        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù‚Ø§Ù„
        const art = articles.find(a => a.id === editingId);
        if (art) {
          art.title = title;
          art.thumb = thumb;
          art.description = description;
          art.category = category;
          art.servers = servers;
          art.downloads = downloads;
        }
        adminMsg.textContent = "ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­.";
      } else {
        // Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯
        const newArt = {
          id: "id_" + Date.now(),
          title,
          thumb,
          description,
          category,
          servers,
          downloads
        };
        articles.push(newArt);
        adminMsg.textContent = "ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­.";
      }
      saveArticles(articles);
      refreshExistingArticles();
      clearForm();
    };

    refreshExistingArticles();
  }

  // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ
  loginBtn.onclick = () => {
    const pass = ownerPassInput.value;
    if (pass === OWNER_PASSWORD) {
      loginScreen.style.display = "none";
      navBar.style.display = "flex";
      renderArticlesList();
    } else {
      loginError.textContent = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!";
      ownerPassInput.value = "";
    }
  };

  // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  btnHome.onclick = () => {
    btnHome.classList.add("active");
    btnAdmin.classList.remove("active");
    renderArticlesList();
  };
  btnAdmin.onclick = () => {
    btnAdmin.classList.add("active");
    btnHome.classList.remove("active");
    renderAdminPanel();
  };
  btnLogout.onclick = () => {
    navBar.style.display = "none";
    mainContent.innerHTML = "";
    loginScreen.style.display = "block";
    ownerPassInput.value = "";
    loginError.textContent = "";
  };

  // Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ØªØ¸Ù‡Ø± Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  navBar.style.display = "none";
  loginScreen.style.display = "block";
})();
</script>

</body>
</html>Ù‡Ø§Ùƒ Ø´ÙØ±Ø© ØµÙØ­Ø© Ø¹Ø±Ø¶ Ø£ÙÙ„Ø§Ù… ÙˆÙ…Ø³Ù„Ø³Ù„Ø§Øª ÙˆØ£Ù†Ù…ÙŠ Ù…Ø¹ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø§Ù„Ùƒ ÙƒØ§Ù…Ù„Ø©ØŒ ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­Ù„ÙŠÙ‹Ø§ØŒ ÙˆØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø®ØµØµ. Ø§Ù„Ø´ÙØ±Ø© Ù…ÙƒØªÙˆØ¨Ø© Ø¨Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ© ÙˆÙˆØ§Ø¬Ù‡Ø© Ø¨Ø³ÙŠØ·Ø© ÙˆØ£Ù†ÙŠÙ‚Ø©:

```html
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ¬ Ù…ÙˆØ¯Ø±Ù† ÙØ§ØµÙ„ | Ø£ÙÙ„Ø§Ù… | Ù…Ø³Ù„Ø³Ù„Ø§Øª | Ø£Ù†Ù…ÙŠ</title>
<style>
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #141414;
    color: #ddd;
    margin: 0; padding: 0;
  }
  header {
    background: #b0070e;
    padding: 15px;
    text-align: center;
    font-size: 28px;
    font-weight: bold;
    user-select:none;
  }
  nav {
    background: #222;
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 10px 0;
    user-select:none;
  }
  nav button {
    background: none;
    border: none;
    color: #ddd;
    font-size: 16px;
    cursor: pointer;
    padding: 10px 18px;
    border-radius: 14px;
    transition: background-color 0.3s ease;
  }
  nav button.active, nav button:hover {
    background: #e50914;
    color: white;
  }
  main.container {
    max-width: 1100px;
    margin: 20px auto;
    padding: 0 15px;
    user-select:none;
  }
  .article-list {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
    gap: 22px;
  }
  .article-card {
    background: #222;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 0 10px #9008;
    cursor: pointer;
    display: flex;
    flex-direction: column;
  }
  .article-card:hover {
    box-shadow: 0 0 20px #b0070e;
  }
  .article-thumb {
    width: 100%;
    aspect-ratio: 16 / 9;
    object-fit: cover;
  }
  .article-info {
    padding: 14px 12px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }
  .article-info h3 {
    margin: 0 0 6px;
    font-size: 20px;
  }
  .article-info p {
    flex-grow: 1;
    font-size: 14px;
    color: #bbb;
    margin: 0 0 10px;
  }
  .category-label {
    align-self: flex-start;
    background: #b0070e;
    color: #fff;
    padding: 4px 10px;
    border-radius: 14px;
    font-size: 12px;
    font-weight: 700;
  }
  .details-view {
    background: #222;
    border-radius: 14px;
    padding: 20px;
  }
  .back-btn {
    cursor: pointer;
    color: #e50914;
    font-weight: 700;
    margin-bottom: 20px;
    display: inline-block;
    user-select:none;
  }
  .server-list button {
    background: none;
    border: 1.5px solid #e50914;
    color: #e50914;
    padding: 6px 14px;
    margin-right: 8px;
    margin-bottom: 10px;
    border-radius: 14px;
    cursor: pointer;
    font-weight: 600;
    user-select:none;
  }
  .server-list button.active {
    background: #e50914;
    color: white;
  }
  .video-player iframe, .video-player video {
    width: 100%;
    max-height: 460px;
    border-radius: 14px;
    background: black;
  }
  #downloadLinks li {
    margin-bottom: 8px;
  }
  #downloadLinks a {
    color: #e50914;
    text-decoration: none;
    font-weight: 600;
  }
  /* ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ */
  .login-screen {
    max-width: 360px;
    margin: 70px auto;
    background: #222;
    padding: 30px 20px 25px;
    border-radius: 18px;
    box-shadow: 0 0 25px #9008;
    text-align: center;
    user-select:none;
  }
  .login-screen h2 {
    margin-bottom: 20px;
    font-size: 22px;
  }
  .login-screen input {
    width: 100%;
    padding: 10px 12px;
    border-radius: 14px;
    border: none;
    font-size: 18px;
    margin-bottom: 15px;
  }
  .login-screen button {
    width: 100%;
    padding: 12px;
    background: #e50914;
    border: none;
    border-radius: 14px;
    color: white;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .login-screen button:hover {
    background: #b0070e;
  }
  .login-error {
    color: #ff5252;
    font-weight: 700;
    margin-top: 10px;
  }
  /* Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… */
  .admin-panel {
    background: #222;
    padding: 20px;
    border-radius: 18px;
    user-select:none;
  }
  .admin-panel h2 {
    margin-top: 0;
    margin-bottom: 18px;
  }
  .admin-panel label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
  }
  .admin-panel input[type="text"], .admin-panel textarea, .admin-panel select {
    width: 100%;
    padding: 10px 12px;
    margin-top: 6px;
    border-radius: 14px;
    border: none;
    font-size: 16px;
    background: #333;
    color: #eee;
    resize: vertical;
  }
  .admin-panel textarea {
    min-height: 70px;
  }
  .admin-panel button {
    margin-top: 20px;
    background: #e50914;
    color: #fff;
    border: none;
    padding: 12px 18px;
    border-radius: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .admin-panel button:hover {
    background: #b0070e;
  }
  .admin-message {
    margin-top: 15px;
    font-weight: 700;
    color: #e50914;
  }
  /* Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ */
  #serversContainer > div, #downloadsContainer > div {
    margin-top: 12px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  #serversContainer input, #downloadsContainer input, #serversContainer select {
    border-radius: 12px;
    padding: 8px;
    border: none;
    background: #333;
    color: #eee;
  }
  #serversContainer .server-name, #downloadsContainer .download-name {
    flex: 1 1 130px;
  }
  #serversContainer .server-type {
    flex: 1 1 100px;
  }
  #serversContainer .server-url, #downloadsContainer .download-url {
    flex: 2 1 300px;
  }
  #downloadsContainer .download-url {
    flex: 2 1 350px;
  }
  #serversContainer button, #downloadsContainer button {
    background: #b0070e;
    color: white;
    border: none;
    border-radius: 12px;
    padding: 6px 12px;
    cursor: pointer;
  }
  #existingArticles ul {
    list-style: none;
    padding: 0;
  }
  #existingArticles li {
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
  }
  #existingArticles li span {
    user-select:none;
  }
  #existingArticles button {
    background: #e50914;
    color: #fff;
    border: none;
    border-radius: 12px;
    padding: 6px 12px;
    cursor: pointer;
  }
  #existingArticles button.delete-article {
    background: #b0070e;
  }
  /* Responsive */
  @media (max-width: 720px) {
    .article-list {
      grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
    }
  }
</style>
</head>
<body>

<header>
  ğŸ¬ Ù…ÙˆØ¯Ø±Ù† ÙØ§ØµÙ„ | Ø£ÙÙ„Ø§Ù… | Ù…Ø³Ù„Ø³Ù„Ø§Øª | Ø£Ù†Ù…ÙŠ
</header>

<nav id="navBar" style="display:none;">
  <button id="btn-home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button id="btn-admin">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
  <button id="btn-logout">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</nav>

<main class="container" id="mainContent"></main>

<!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ -->
<div class="login-screen" id="loginScreen">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ</h2>
  <input type="password" id="ownerPass" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="off" />
  <button id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
  <div class="login-error" id="loginError"></div>
</div>

<script>
(() => {
  const OWNER_PASSWORD = "modrn123"; // ØºÙŠÙ‘Ø±Ù‡Ø§ Ø¹Ù„Ù‰ Ø±Ø§Ø­ØªÙƒ
  const navBar = document.getElementById("navBar");
  const mainContent = document.getElementById("mainContent");
  const loginScreen = document.getElementById("loginScreen");
  const loginBtn = document.getElementById("loginBtn");
  const ownerPassInput = document.getElementById("ownerPass");
  const loginError = document.getElementById("loginError");

  const btnHome = document.getElementById("btn-home");
  const btnAdmin = document.getElementById("btn-admin");
  const btnLogout = document.getElementById("btn-logout");

  // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ (localStorage)
  function loadArticles() {
    const raw = localStorage.getItem("modrn_articles");
    return raw ? JSON.parse(raw) : [];
  }
  function saveArticles(articles) {
    localStorage.setItem("modrn_articles", JSON.stringify(articles));
  }

  // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª (Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… / Ø§Ù„Ù…Ø³Ù„Ø³Ù„)
  function renderArticlesList() {
    const articles = loadArticles();
    if (articles.length === 0) {
      mainContent.innerHTML = `<p style="text-align:center; font-size:18px; color:#aaa; user-select:none;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø¶Ø§ÙØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>`;
      return;
    }
    let html = `<div class="article-list">`;
    for (const art of articles) {
      html += `
        <div class="article-card" data-id="${art.id}">
          <img class="article-thumb" src="${art.thumb || 'https://via.placeholder.com/300x160?text=Ù„Ø§+ØµÙˆØ±Ø©'}" alt="${art.title}" />
          <div class="article-info">
            <h3>${art.title}</h3>
            <p>${art.description ? art.description.slice(0, 70) + (art.description.length > 70 ? "..." : "") : 'Ø¨Ø¯ÙˆÙ† ÙˆØµÙ'}</p>
            <span class="category-label">${art.category || 'Ø¹Ø§Ù…'}</span>
          </div>
        </div>`;
    }
    html += `</div>`;
    mainContent.innerHTML = html;

    // Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
    document.querySelectorAll(".article-card").forEach(card => {
      card.addEventListener("click", () => {
        const id = card.getAttribute("data-id");
        renderArticleDetails(id);
      });
    });
  }

  // ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙÙŠÙ„Ù… Ù…Ø¹ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„
  function renderArticleDetails(id) {
    const articles = loadArticles();
    const art = articles.find(a => a.id === id);
    if (!art) return alert("Ø§Ù„Ù…Ù‚Ø§Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!");

    let serversHTML = "";
    if (art.servers && art.servers.length > 0) {
      serversHTML = art.servers.map((srv, i) => 
        `<button data-index="${i}" class="${i===0 ? 'active' : ''}">${srv.name}</button>`
      ).join(" ");
    } else {
      serversHTML = `<p style="color:#aaa; margin-top:10px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³ÙŠØ±ÙØ±Ø§Øª Ù„Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©.</p>`;
    }

    let downloadsHTML = "";
    if (art.downloads && art.downloads.length > 0) {
      downloadsHTML = "<ul>";
      for (const dl of art.downloads) {
        downloadsHTML += `<li><a href="${dl.url}" target="_blank" rel="noopener noreferrer">${dl.name}</a></li>`;
      }
      downloadsHTML += "</ul>";
    } else {
      downloadsHTML = `<p style="color:#aaa;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆØ§Ø¨Ø· ØªØ­Ù…ÙŠÙ„.</p>`;
    }

    // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (Ù†ÙØªØ±Ø¶ iframe Ù„Ù„Ø³ÙŠØ±ÙØ±)
    let videoHTML = "";
    if (art.servers && art.servers.length > 0) {
      const firstServer = art.servers[0];
      if (firstServer.type === "iframe") {
        videoHTML = `<iframe src="${firstServer.url}" frameborder="0" allowfullscreen allow="autoplay" style="width:100%;height:400px;border-radius:12px;"></iframe>`;
      } else if (firstServer.type === "video") {
        videoHTML = `<video controls src="${firstServer.url}" style="width:100%;border-radius:12px;"></video>`;
      }
    }

    mainContent.innerHTML = `
      <div class="details-view">
        <span class="back-btn" id="backBtn">â¬… Ø±Ø¬ÙˆØ¹</span>
        <h2>${art.title}</h2>
        <p>${art.description || 'Ø¨Ø¯ÙˆÙ† ÙˆØµÙ'}</p>
        <div class="video-player">${videoHTML}</div>
        <div class="server-list" id="serverList">${serversHTML}</div>
        <h3 style="margin-top:30px;">Ø±ÙˆØ§Ø¨Ø· ØªØ­Ù…ÙŠÙ„</h3>
        <div id="downloadLinks">${downloadsHTML}</div>
      </div>
    `;

    document.getElementById("backBtn").addEventListener("click", () => {
      renderArticlesList();
    });

    // ØªÙØ¹ÙŠÙ„ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
    const serverBtns = document.querySelectorAll("#serverList button");
    serverBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        serverBtns.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const idx = btn.getAttribute("data-index");
        const server = art.servers[idx];
        const videoPlayer = document.querySelector(".video-player");
        if (server.type === "iframe") {
          videoPlayer.innerHTML = `<iframe src="${server.url}" frameborder="0" allowfullscreen allow="autoplay" style="width:100%;height:400px;border-radius:12px;"></iframe>`;
        } else if (server.type === "video") {
          videoPlayer.innerHTML = `<video controls src="${server.url}" style="width:100%;border-radius:12px;"></video>`;
        }
      });
    });
  }

  // Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù„Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª
  function renderAdminPanel() {
    const articles = loadArticles();

    let existingListHTML = "<ul>";
    for (const art of articles) {
      existingListHTML += `
        <li data-id="${art.id}">
          <span>${art.title}</span>
          <button class="edit-article">ØªØ¹Ø¯ÙŠÙ„</button>
          <button class="delete-article">Ø­Ø°Ù</button>
        </li>
      `;
    }
    existingListHTML += "</ul>";

    mainContent.innerHTML = `
      <div class="admin-panel">
        <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ</h2>
        <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
        <input type="text" id="articleTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠÙ„Ù… Ø£Ùˆ Ø§Ù„Ù…Ø³Ù„Ø³Ù„" />
        <label>Ø§Ù„ÙˆØµÙ</label>
        <textarea id="articleDesc" placeholder="ÙˆØµÙ Ù‚ØµÙŠØ±"></textarea>
        <label>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶ (ØµÙˆØ±Ø© Ù…ØµØºØ±Ø©)</label>
        <input type="text" id="articleThumb" placeholder="https://example.com/thumb.jpg" />
        <label>Ø§Ù„ØªØµÙ†ÙŠÙ</label>
        <select id="articleCategory">
          <option value="Ø£ÙÙ„Ø§Ù…">Ø£ÙÙ„Ø§Ù…</option>
          <option value="Ù…Ø³Ù„Ø³Ù„Ø§Øª">Ù…Ø³Ù„Ø³Ù„Ø§Øª</option>
          <option value="Ø£Ù†Ù…ÙŠ">Ø£Ù†Ù…ÙŠ</option>
          <option value="Ø¹Ø§Ù…">Ø¹Ø§Ù…</option>
        </select>

        <h3 style="margin-top:25px;">Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª (Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©)</h3>
        <div id="serversContainer"></div>
        <button id="addServerBtn">+ Ø¥Ø¶Ø§ÙØ© Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯</button>

        <h3 style="margin-top:25px;">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</h3>
        <div id="downloadsContainer"></div>
        <button id="addDownloadBtn">+ Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button>

        <button id="saveArticleBtn">Ø­ÙØ¸ Ø§Ù„Ù…Ù‚Ø§Ù„</button>
        <div class="admin-message" id="adminMessage"></div>

        <h3 style="margin-top:30px;">Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
        <div id="existingArticles">${existingListHTML}</div>
      </div>
    `;

    // Ø¹Ù†ØµØ± ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¤Ù‚ØªÙ‹Ø§
    let tempServers = [];
    let tempDownloads = [];
    let editingId = null;

    const serversContainer = document.getElementById("serversContainer");
    const downloadsContainer = document.getElementById("downloadsContainer");
    const addServerBtn = document.getElementById("addServerBtn");
    const addDownloadBtn = document.getElementById("addDownloadBtn");
    const saveArticleBtn = document.getElementById("saveArticleBtn");
    const adminMessage = document.getElementById("adminMessage");

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ø®Ø§Ù†Ø© Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯Ø©
    function addServerInput(server = { name: "", type: "iframe", url: "" }) {
      const div = document.createElement("div");
      div.style.display = "flex";
      div.style.gap = "8px";
      div.style.marginTop = "10px";

      const nameInput = document.createElement("input");
      nameInput.className = "server-name";
      nameInput.placeholder = "Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±";
      nameInput.value = server.name;

      const typeSelect = document.createElement("select");
      typeSelect.className = "server-type";
      const optIframe = document.createElement("option");
      optIframe.value = "iframe";
      optIframe.textContent = "iframe";
      const optVideo = document.createElement("option");
      optVideo.value = "video";
      optVideo.textContent = "video";
      typeSelect.append(optIframe, optVideo);
      typeSelect.value = server.type;

      const urlInput = document.createElement("input");
      urlInput.className = "server-url";
      urlInput.placeholder = "Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø£Ùˆ iframe";
      urlInput.value = server.url;

      const delBtn = document.createElement("button");
      delBtn.textContent = "âœ–";
      delBtn.title = "Ø­Ø°Ù Ø§Ù„Ø³ÙŠØ±ÙØ±";
      delBtn.onclick = () => div.remove();

      div.append(nameInput, typeSelect, urlInput, delBtn);
      serversContainer.appendChild(div);
    }

    // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø®Ø§Ù†Ø© ØªØ­Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯Ø©
    function addDownloadInput(dl = { name: "", url: "" }) {
      const div = document.createElement("div");
      div.style.display = "flex";
      div.style.gap = "8px";
      div.style.marginTop = "10px";

      const nameInput = document.createElement("input");
      nameInput.className = "download-name";
      nameInput.placeholder = "Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø· (Ù…Ø«Ù„Ø§Ù‹: ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±)";
      nameInput.value = dl.name;

      const urlInput = document.createElement("input");
      urlInput.className = "download-url";
      urlInput.placeholder = "Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„";
      urlInput.value = dl.url;

      const delBtn = document.createElement("button");
      delBtn.textContent = "âœ–";
      delBtn.title = "Ø­Ø°Ù Ø§Ù„Ø±Ø§Ø¨Ø·";
      delBtn.onclick = () => div.remove();

      div.append(nameInput, urlInput, delBtn);
      downloadsContainer.appendChild(div);
    }

    addServerBtn.onclick = () => addServerInput();
    addDownloadBtn.onclick = () => addDownloadInput();

    // Ø­ÙØ¸ Ø§Ù„Ù…Ù‚Ø§Ù„
    saveArticleBtn.onclick = () => {
      const title = document.getElementById("articleTitle").value.trim();
      const desc = document.getElementById("articleDesc").value.trim();
      const thumb = document.getElementById("articleThumb").value.trim();
      const category = document.getElementById("articleCategory").value;

      if (!title) {
        adminMessage.textContent = "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­ÙØ¸ Ù…Ù‚Ø§Ù„ Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†!";
        return;
      }

      // Ø¬Ù…Ø¹ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
      const serversEls = [...serversContainer.children];
      const servers = serversEls.map(div => {
        return {
          name: div.querySelector(".server-name").value.trim(),
          type: div.querySelector(".server-type").value,
          url: div.querySelector(".server-url").value.trim()
        };
      }).filter(s => s.name && s.url);

      // Ø¬Ù…Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„
      const downloadsEls = [...downloadsContainer.children];
      const downloads = downloadsEls.map(div => {
        return {
          name: div.querySelector(".download-name").value.trim(),
          url: div.querySelector(".download-url").value.trim()
        };
      }).filter(d => d.name && d.url);

      let articles = loadArticles();

      if (editingId) {
        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù‚Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯
        const idx = articles.findIndex(a => a.id === editingId);
        if (idx !== -1) {
          articles[idx] = {
            id: editingId,
            title, description: desc, thumb, category, servers, downloads
          };
        }
        editingId = null;
      } else {
        // Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯
        articles.push({
          id: "art_" + Date.now(),
          title, description: desc, thumb, category, servers, downloads
        });
      }

      saveArticles(articles);
      adminMessage.textContent = "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!";
      renderAdminPanel();
    };

    // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù‚Ø§Ù„ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    document.querySelectorAll("#existingArticles button.edit-article").forEach(btn => {
      btn.onclick = () => {
        const id = btn.parentElement.getAttribute("data-id");
        const art = articles.find(a => a.id === id);
        if (!art) return;

        editingId = id;
        document.getElementById("articleTitle").value = art.title;
        document.getElementById("articleDesc").value = art.description || "";
        document.getElementById("articleThumb").value = art.thumb || "";
        document.getElementById("articleCategory").value = art.category || "Ø¹Ø§Ù…";

        // ØªÙØ±ÙŠØº Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„
        serversContainer.innerHTML = "";
        downloadsContainer.innerHTML = "";

        if (art.servers && art.servers.length > 0) {
          art.servers.forEach(srv => addServerInput(srv));
        }
        if (art.downloads && art.downloads.length > 0) {
          art.downloads.forEach(dl => addDownloadInput(dl));
        }

        adminMessage.textContent = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„ - Ù„Ø§ ØªÙ†Ø³Ù‰ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø­ÙØ¸!";
        window.scrollTo({ top: 0, behavior: "smooth" });
      };
    });

    // Ø­Ø°Ù Ù…Ù‚Ø§Ù„
    document.querySelectorAll("#existingArticles button.delete-article").forEach(btn => {
      btn.onclick = () => {
        if (!confirm("ØªØ¨ÙŠ ØªØ­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„ØŸ Ù‡Ø°Ø§ Ù…Ø§ ÙŠÙ†Ø±Ø¬Ø¹!")) return;
        const id = btn.parentElement.getAttribute("data-id");
        let arts = loadArticles();
        arts = arts.filter(a => a.id !== id);
        saveArticles(arts);
        renderAdminPanel();
      };
    });
  }

  // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
  loginBtn.onclick = () => {
    const pass = ownerPassInput.value;
    if (pass === OWNER_PASSWORD) {
      loginScreen.style.display = "none";
      navBar.style.display = "flex";
      renderArticlesList();
    } else {
      loginError.textContent = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!";
      ownerPassInput.value = "";
    }
  };

  // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
  btnHome.onclick = () => {
    btnHome.classList.add("active");
    btnAdmin.classList.remove("active");
    renderArticlesList();
  };
  btnAdmin.onclick = () => {
    btnAdmin.classList.add("active");
    btnHome.classList.remove("active");
    renderAdminPanel();
  };
  btnLogout.onclick = () => {
    navBar.style.display = "none";
    mainContent.innerHTML = "";
    loginScreen.style.display = "block";
    ownerPassInput.value = "";
    loginError.textContent = "";
  };

  // Ø¨Ø¯Ø§ÙŠØ© Ø­Ø§Ù„Ø© Ø§Ù„ØµÙØ­Ø©
  navBar.style.display = "none";
  loginScreen.style.display = "block";
})();
</script>

</body>
</html>
