<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تفاصيل الفلم</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>📽️ فاصل أفلام</h1>
  </header>
  <nav>
    <a href="index.html">الرئيسية</a>
  </nav>

  <main class="container" id="movieDetails">
    <!-- التفاصيل بتطلع هنا -->
  </main>

<script>
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  // جلب الأفلام من localStorage
  const movies = JSON.parse(localStorage.getItem('movies')) || [];
  const id = getQueryParam('id');

  if(id === null || !movies[id]) {
    document.getElementById('movieDetails').innerHTML = '<p>الفلم هذا ما موجود ياخوي.</p>';
  } else {
    const movie = movies[id];
    document.getElementById('movieDetails').innerHTML = `
      <h2>${movie.title}</h2>
      <p>${movie.description}</p>
      <iframe src="${movie.embed}" allowfullscreen></iframe>
      ${movie.download ? `<a href="${movie.download}" target="_blank" class="download-link">تحميل الفلم</a>` : ''}
    `;
  }
</script>
</body>
</html>
